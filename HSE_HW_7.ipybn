{"cells":[{"cell_type":"markdown","source":["# Домашнее задание №7\n","## Выполнил: ГОРБУНОВ ГЕОРГИЙ НИКОЛАЕВИЧ (МКБ251) (Пожалуйста, не перепутайте, нас два Горбуновых на потоке)\n"],"metadata":{"id":"9w7DCKtzyvOO"}},{"cell_type":"markdown","source":["### Описание модуля GetSomethingAPI.py:\n","\n","Модуль предназначен для обращения по ручке к сайту с мусоркой (леремы ипсумы).\n","\n","1) Подключаеми обычную встроенную библиотеку реквест.\n","2) Создаем функцию\n","3) Объявляем строку с адресом, три переменных типа объект реквест-гет и реквест-JSON, который сам серриализует JSONки.\n","\n","Получам, ограничиваемся пятью и в цикле проходим, печатаем заголовок и тело."],"metadata":{"id":"e3hzMPFZB32T"}},{"cell_type":"code","source":["# GetSomethingAPI.py\n","\n","import requests\n","\n","def fetch_and_display_posts():\n","    url = \"https://jsonplaceholder.typicode.com/posts\"\n","\n","    try:\n","        response = requests.get(url)\n","        posts = response.json()\n","\n","        # Берём первые 5 постов\n","        for i, post in enumerate(posts[:5], start=1):\n","            print(f\"--- Пост {i} ---\")\n","            print(f\"Заголовок: {post['title']}\")\n","            print(f\"Тело: {post['body']}\\n\")\n","\n","    except requests.exceptions.RequestException as e:\n","        print(f\"Произошла ошибка при выполнении запроса: {e}\")\n","\n","if __name__ == \"__main__\":\n","    fetch_and_display_posts()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"OAUv2sD5BwyW","executionInfo":{"status":"ok","timestamp":1769275726376,"user_tz":-180,"elapsed":36,"user":{"displayName":"","userId":""}},"outputId":"fcb27c3e-52eb-467d-9c1b-337c51626f26"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["--- Пост 1 ---\n","Заголовок: sunt aut facere repellat provident occaecati excepturi optio reprehenderit\n","Тело: quia et suscipit\n","suscipit recusandae consequuntur expedita et cum\n","reprehenderit molestiae ut ut quas totam\n","nostrum rerum est autem sunt rem eveniet architecto\n","\n","--- Пост 2 ---\n","Заголовок: qui est esse\n","Тело: est rerum tempore vitae\n","sequi sint nihil reprehenderit dolor beatae ea dolores neque\n","fugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\n","qui aperiam non debitis possimus qui neque nisi nulla\n","\n","--- Пост 3 ---\n","Заголовок: ea molestias quasi exercitationem repellat qui ipsa sit aut\n","Тело: et iusto sed quo iure\n","voluptatem occaecati omnis eligendi aut ad\n","voluptatem doloribus vel accusantium quis pariatur\n","molestiae porro eius odio et labore et velit aut\n","\n","--- Пост 4 ---\n","Заголовок: eum et est occaecati\n","Тело: ullam et saepe reiciendis voluptatem adipisci\n","sit amet autem assumenda provident rerum culpa\n","quis hic commodi nesciunt rem tenetur doloremque ipsam iure\n","quis sunt voluptatem rerum illo velit\n","\n","--- Пост 5 ---\n","Заголовок: nesciunt quas odio\n","Тело: repudiandae veniam quaerat sunt sed\n","alias aut fugiat sit autem sed est\n","voluptatem omnis possimus esse voluptatibus quis\n","est aut tenetur dolor neque\n","\n"]}]},{"cell_type":"markdown","source":["### Описание модуля GetWeatherOpenMeteo.py:\n","Модуль предназначен для получения текущей погоды по названию города с использованием открытых API без регистрации.\n","1) Подключаем встроенную библиотеку `requests`.\n","2) Создаём функцию для поиска координат города через Nominatim (OpenStreetMap).\n","3) Делаем GET-запрос к Open-Meteo по координатам, получаем JSON с температурой и кодом погоды\n"],"metadata":{"id":"4lZedleeNwbL"}},{"cell_type":"code","source":["import requests\n","\n","def get_coordinates(city_name):\n","    url = \"https://nominatim.openstreetmap.org/search\"\n","    params = {'q': city_name, 'format': 'json', 'limit': 1}\n","    headers = {'User-Agent': 'WeatherApp/1.0'}\n","    try:\n","        response = requests.get(url, params=params, headers=headers)\n","        data = response.json()\n","        if not data:\n","            return None, None\n","        return float(data[0]['lat']), float(data[0]['lon'])\n","    except Exception:\n","        return None, None\n","\n","def get_weather(lat, lon, city_name):\n","    url = \"https://api.open-meteo.com/v1/forecast\"\n","    params = {\n","        'latitude': lat,\n","        'longitude': lon,\n","        'current': 'temperature_2m,weather_code',\n","        'timezone': 'auto'\n","    }\n","    try:\n","        response = requests.get(url, params=params)\n","        data = response.json()\n","        current = data['current']\n","        print(f\"\\nПогода в городе {city_name}:\")\n","        print(f\"Температура: {current['temperature_2m']}°C\")\n","    except Exception as e:\n","        print(\"Ошибка при получении погоды:\", e)\n","\n","def main():\n","    city = input(\"Введите название города: \").strip()\n","    if not city:\n","        print(\"Название города не может быть пустым.\")\n","        return\n","\n","    lat, lon = get_coordinates(city)\n","    if lat is None or lon is None:\n","        print(\"Город не найден.\")\n","        return\n","\n","    get_weather(lat, lon, city)\n","\n","if __name__ == \"__main__\":\n","    main()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"CTDi9H2zDtwM","executionInfo":{"status":"ok","timestamp":1769278574145,"user_tz":-180,"elapsed":5240,"user":{"displayName":"","userId":""}},"outputId":"a93cd36f-7df8-4a4c-c2af-998cfaa39e73"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Введите название города: Москва\n","\n","Погода в городе Москва:\n","Температура: -19.2°C\n"]}]}],"metadata":{"colab":{"toc_visible":true,"provenance":[{"file_id":"/v2/external/notebooks/intro.ipynb","timestamp":1769278641403}]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}